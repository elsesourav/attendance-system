<?xml version="1.0" encoding="UTF-8"?>
<svg width="1250" height="1250" xmlns="http://www.w3.org/2000/svg">
  <!-- Styles -->
  <defs>
    <style type="text/css">
      .table {
        fill: #f8f9fa;
        stroke: #4b6bfb;
        stroke-width: 2;
        rx: 6;
        ry: 6;
      }
      .table-header {
        fill: #4b6bfb;
        rx: 6;
        ry: 6;
      }
      .table-title {
        font-family: Arial, sans-serif;
        font-size: 16px;
        font-weight: bold;
        fill: white;
      }
      .field-name {
        font-family: Arial, sans-serif;
        font-size: 14px;
        fill: #333;
      }
      .field-type {
        font-family: Arial, sans-serif;
        font-size: 12px;
        fill: #666;
      }
      .pk-badge {
        fill: #4b6bfb;
        rx: 3;
        ry: 3;
      }
      .pk-text {
        font-family: Arial, sans-serif;
        font-size: 10px;
        font-weight: bold;
        fill: white;
      }
      .fk-badge {
        fill: #ff9800;
        rx: 3;
        ry: 3;
      }
      .fk-text {
        font-family: Arial, sans-serif;
        font-size: 10px;
        font-weight: bold;
        fill: white;
      }
      .relationship {
        stroke: #4b6bfb;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowhead);
      }
      .relationship-label {
        font-family: Arial, sans-serif;
        font-size: 12px;
        fill: #666;
      }
      .diagram-title {
        font-family: Arial, sans-serif;
        font-size: 24px;
        font-weight: bold;
        fill: #333;
      }
    </style>
    <marker id="arrowhead" markerWidth="12" markerHeight="9" refX="10" refY="4.5" orient="auto">
      <polygon points="0 0, 12 4.5, 0 9" fill="#4b6bfb" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="60" class="diagram-title" text-anchor="middle">Attendance System Database Schema</text>

  <!-- Teachers Table -->
  <g transform="translate(50, 100)">
    <rect width="280" height="362" class="table" />
    <rect width="280" height="50" class="table-header" />
    <text x="140" y="30" class="table-title" text-anchor="middle">TEACHERS</text>

    <!-- Fields -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="30" height="16" class="pk-badge" />
      <text x="15" y="12" class="pk-text" text-anchor="middle">PK</text>
      <text x="40" y="12" class="field-name">id</text>
      <text x="230" y="12" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="52" class="field-name">name</text>
      <text x="230" y="52" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="92" class="field-name">email</text>
      <text x="230" y="92" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="132" class="field-name">mobile_number</text>
      <text x="230" y="132" class="field-type" text-anchor="end">VARCHAR(20)</text>

      <text x="40" y="172" class="field-name">password</text>
      <text x="230" y="172" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="212" class="field-name">created_at</text>
      <text x="230" y="212" class="field-type" text-anchor="end">TIMESTAMP</text>

      <text x="40" y="252" class="field-name">updated_at</text>
      <text x="230" y="252" class="field-type" text-anchor="end">TIMESTAMP</text>
    </g>
  </g>

  <!-- Students Table -->
  <g transform="translate(50, 500)">
    <rect width="300" height="387" class="table" />
    <rect width="300" height="50" class="table-header" />
    <text x="150" y="30" class="table-title" text-anchor="middle">STUDENTS</text>

    <!-- Fields -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="30" height="16" class="pk-badge" />
      <text x="15" y="12" class="pk-text" text-anchor="middle">PK</text>
      <text x="40" y="12" class="field-name">id</text>
      <text x="250" y="12" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="52" class="field-name">name</text>
      <text x="250" y="52" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="92" class="field-name">email</text>
      <text x="250" y="92" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="132" class="field-name">mobile_number</text>
      <text x="250" y="132" class="field-type" text-anchor="end">VARCHAR(20)</text>

      <text x="40" y="172" class="field-name">registration_number</text>
      <text x="250" y="172" class="field-type" text-anchor="end">VARCHAR(50)</text>

      <text x="40" y="212" class="field-name">password</text>
      <text x="250" y="212" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="252" class="field-name">created_at</text>
      <text x="250" y="252" class="field-type" text-anchor="end">TIMESTAMP</text>

      <text x="40" y="292" class="field-name">updated_at</text>
      <text x="250" y="292" class="field-type" text-anchor="end">TIMESTAMP</text>
    </g>
  </g>

  <!-- Streams Table -->
  <g transform="translate(400, 100)">
    <rect width="260" height="331" class="table" />
    <rect width="260" height="50" class="table-header" />
    <text x="130" y="30" class="table-title" text-anchor="middle">STREAMS</text>

    <!-- Fields -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="30" height="16" class="pk-badge" />
      <text x="15" y="12" class="pk-text" text-anchor="middle">PK</text>
      <text x="40" y="12" class="field-name">id</text>
      <text x="210" y="12" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="52" class="field-name">name</text>
      <text x="210" y="52" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="92" class="field-name">description</text>
      <text x="210" y="92" class="field-type" text-anchor="end">TEXT</text>

      <rect x="0" y="132" width="30" height="16" class="fk-badge" />
      <text x="15" y="144" class="fk-text" text-anchor="middle">FK</text>
      <text x="40" y="144" class="field-name">teacher_id</text>
      <text x="210" y="144" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="184" class="field-name">created_at</text>
      <text x="210" y="184" class="field-type" text-anchor="end">TIMESTAMP</text>

      <text x="40" y="224" class="field-name">updated_at</text>
      <text x="210" y="224" class="field-type" text-anchor="end">TIMESTAMP</text>
    </g>
  </g>

  <!-- Subjects Table -->
  <g transform="translate(730, 100)">
    <rect width="260" height="331" class="table" />
    <rect width="260" height="50" class="table-header" />
    <text x="130" y="30" class="table-title" text-anchor="middle">SUBJECTS</text>

    <!-- Fields -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="30" height="16" class="pk-badge" />
      <text x="15" y="12" class="pk-text" text-anchor="middle">PK</text>
      <text x="40" y="12" class="field-name">id</text>
      <text x="210" y="12" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="52" class="field-name">name</text>
      <text x="210" y="52" class="field-type" text-anchor="end">VARCHAR(255)</text>

      <text x="40" y="92" class="field-name">description</text>
      <text x="210" y="92" class="field-type" text-anchor="end">TEXT</text>

      <rect x="0" y="132" width="30" height="16" class="fk-badge" />
      <text x="15" y="144" class="fk-text" text-anchor="middle">FK</text>
      <text x="40" y="144" class="field-name">stream_id</text>
      <text x="210" y="144" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="184" class="field-name">created_at</text>
      <text x="210" y="184" class="field-type" text-anchor="end">TIMESTAMP</text>

      <text x="40" y="224" class="field-name">updated_at</text>
      <text x="210" y="224" class="field-type" text-anchor="end">TIMESTAMP</text>
    </g>
  </g>

  <!-- Subject Enrollments Table -->
  <g transform="translate(420, 500)">
    <rect width="260" height="243" class="table" />
    <rect width="260" height="50" class="table-header" />
    <text x="130" y="30" class="table-title" text-anchor="middle">SUBJECT_ENROLLMENTS</text>

    <!-- Fields -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="30" height="16" class="pk-badge" />
      <text x="15" y="12" class="pk-text" text-anchor="middle">PK</text>
      <text x="40" y="12" class="field-name">id</text>
      <text x="210" y="12" class="field-type" text-anchor="end">INT</text>

      <rect x="0" y="52" width="30" height="16" class="fk-badge" />
      <text x="15" y="64" class="fk-text" text-anchor="middle">FK</text>
      <text x="40" y="64" class="field-name">student_id</text>
      <text x="210" y="64" class="field-type" text-anchor="end">INT</text>

      <rect x="0" y="104" width="30" height="16" class="fk-badge" />
      <text x="15" y="116" class="fk-text" text-anchor="middle">FK</text>
      <text x="40" y="116" class="field-name">subject_id</text>
      <text x="210" y="116" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="156" class="field-name">created_at</text>
      <text x="210" y="156" class="field-type" text-anchor="end">TIMESTAMP</text>
    </g>
  </g>

  <!-- Attendance Table -->
  <g transform="translate(750, 500)">
    <rect width="260" height="336" class="table" />
    <rect width="260" height="50" class="table-header" />
    <text x="130" y="30" class="table-title" text-anchor="middle">ATTENDANCE</text>

    <!-- Fields -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="30" height="16" class="pk-badge" />
      <text x="15" y="12" class="pk-text" text-anchor="middle">PK</text>
      <text x="40" y="12" class="field-name">id</text>
      <text x="210" y="12" class="field-type" text-anchor="end">INT</text>

      <rect x="0" y="52" width="30" height="16" class="fk-badge" />
      <text x="15" y="64" class="fk-text" text-anchor="middle">FK</text>
      <text x="40" y="64" class="field-name">student_id</text>
      <text x="210" y="64" class="field-type" text-anchor="end">INT</text>

      <rect x="0" y="104" width="30" height="16" class="fk-badge" />
      <text x="15" y="116" class="fk-text" text-anchor="middle">FK</text>
      <text x="40" y="116" class="field-name">subject_id</text>
      <text x="210" y="116" class="field-type" text-anchor="end">INT</text>

      <text x="40" y="156" class="field-name">status</text>
      <text x="210" y="156" class="field-type" text-anchor="end">ENUM</text>

      <text x="40" y="196" class="field-name">date</text>
      <text x="210" y="196" class="field-type" text-anchor="end">DATE</text>

      <text x="40" y="236" class="field-name">created_at</text>
      <text x="210" y="236" class="field-type" text-anchor="end">TIMESTAMP</text>
    </g>
  </g>

  <!-- Relationships -->
  <!-- Teachers to Streams -->
  <path d="M 330 180 L 365 180 L 400 180" class="relationship" stroke-width="3" />
  <text x="365" y="165" class="relationship-label" text-anchor="middle" font-weight="bold">1:N</text>

  <!-- Streams to Subjects -->
  <path d="M 660 180 L 695 180 L 730 180" class="relationship" stroke-width="3" />
  <text x="695" y="165" class="relationship-label" text-anchor="middle" font-weight="bold">1:N</text>

  <!-- Students to Subject Enrollments -->
  <path d="M 350 550 L 385 550 L 420 550" class="relationship" stroke-width="3" />
  <text x="385" y="535" class="relationship-label" text-anchor="middle" font-weight="bold">1:N</text>

  <!-- Subjects to Subject Enrollments -->
  <path d="M 990 180 L 1050 180 L 1050 550 L 680 550" class="relationship" stroke-width="3" />
  <text x="1070" y="350" class="relationship-label" text-anchor="middle" font-weight="bold">1:N</text>

  <!-- Students to Attendance -->
  <path d="M 350 780 L 420 780 L 550 780 L 750 760" class="relationship" stroke-width="3" />
  <text x="550" y="765" class="relationship-label" text-anchor="middle" font-weight="bold">1:N</text>

  <!-- Subjects to Attendance -->
  <path d="M 990 230 L 1100 230 L 1100 800 L 750 800" class="relationship" stroke-width="3" />
  <text x="1120" y="400" class="relationship-label" text-anchor="middle" font-weight="bold">1:N</text>

  <!-- Legend -->
  <g transform="translate(100, 950)">
    <rect width="990" height="160" fill="#f8f9fa" stroke="#4b6bfb" stroke-width="2" rx="6" ry="6" />
    <text x="495" y="50" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#333" text-anchor="middle">Legend</text>

    <rect x="80" y="80" width="30" height="16" class="pk-badge" />
    <text x="95" y="92" class="pk-text" text-anchor="middle">PK</text>
    <text x="130" y="92" font-family="Arial, sans-serif" font-size="16" fill="#333">Primary Key</text>

    <rect x="320" y="80" width="30" height="16" class="fk-badge" />
    <text x="335" y="92" class="fk-text" text-anchor="middle">FK</text>
    <text x="370" y="92" font-family="Arial, sans-serif" font-size="16" fill="#333">Foreign Key</text>

    <path d="M 550 80 L 575 80 L 600 80" stroke="#4b6bfb" stroke-width="3" marker-end="url(#arrowhead)" fill="none" />
    <text x="650" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">Relationship</text>

    <text x="80" y="130" font-family="Arial, sans-serif" font-size="16" fill="#333">1:N - One-to-Many Relationship</text>
    <text x="550" y="130" font-family="Arial, sans-serif" font-size="16" fill="#333">ENUM values for status: "present", "absent", "late"</text>
  </g>
</svg>
